(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},136:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(26),c=n.n(r),o=(n(90),n(7)),i=n(10),l=n(9),u=(n(91),n(64),n(17)),d=n.n(u),h=function e(){var t=this;Object(o.a)(this,e),this.create=function(e,n,a,s,r){return t.instance.post("/create",{name:e,password:n,endDate:a,owner:s,groupAvatar:r})},this.join=function(e){return t.instance.put("/join/".concat(e))},this.getGroups=function(){return t.instance.get("/list")},this.getSummary=function(e){return t.instance.get("/summary/".concat(e))},this.getSingleGroup=function(e){return t.instance.get("/images/".concat(e))},this.getSlanders=function(e){return t.instance.get("/slanders/".concat(e))},this.getImageByLikes=function(e){return t.instance.get("/morelikes/".concat(e))},this.getGroupEnd=function(){return t.instance.get("/groupend")},this.countUsers=function(e){return t.instance.get("/countusers/".concat(e))},this.getGroupName=function(e){return t.instance.get("/getname/".concat(e))},this.filterByTag=function(e){return t.instance.get("/tag/".concat(e))},this.instance=d.a.create({baseURL:"".concat("https://shappy.herokuapp.com/api","/group"),withCredentials:!0})},j=n(3),p=n(12),b=n(27),g=n(11),m=n(151),f=n(156),O=n(152),v=n(29),x=n.n(v),S=function e(){var t=this;Object(o.a)(this,e),this.uploadImg=function(e){return t.instance.post("/image",e)},this.instance=d.a.create({baseURL:"".concat("https://shappy.herokuapp.com/api","/uploads"),withCredentials:!0})},y=n(1),U=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a,s=e.props;return Object(o.a)(this,n),(a=t.call(this,s)).componentDidMount=function(){a.checkMaxGroups()},a.checkMaxGroups=function(){a.groupService.getGroups().then((function(e){e.data.groupArr.filter((function(e){return!1===e.isEnded})).length<4&&a.setState(Object(j.a)(Object(j.a)({},a.state),{},{maxGroups:!0}))})).catch((function(e){return console.log(e)}))},a.handleInput=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(b.a)({},n,s))},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,s=t.secret,r=t.endDate,c=t.groupAvatar,o=a.props.loggedUser._id;a.groupService.create(n,s,r,o,c).then((function(){return a.props.history.push("/")})).catch((function(e){return console.log(e)}))},a.handleJoinForm=function(e){e.preventDefault(),a.groupService.join(a.state.secret).then((function(){return a.props.history.push("/dashboard")})).catch((function(e){console.log("error",e.response.data.message),a.setState(Object(j.a)(Object(j.a)({},a.state),{},{error:e.response.data.message}))}))},a.handleSecret=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(b.a)({},n,s))},a.handleFile=function(e){console.log(e.target),a.setState(Object(j.a)(Object(j.a)({},a.state),{},{isLoading:!0}));var t=new FormData;t.append("imageData",e.target.files[0]),a.uploadsService.uploadImg(t).then((function(e){a.setState(Object(j.a)(Object(j.a)({},a.state),{},{isLoading:!1,groupAvatar:e.data.cloudinary_url}))})).catch((function(e){return alert(e,"Error")}))},a.formatDate=function(){var e=new Date;return e.setDate(e.getDate()+1),x()(e).utcOffset("+0200").format("YYYY-MM-DD")},a.state={name:"",secret:"",groupAvatar:"",endDate:"",isEnded:!1,owner:"",isLoading:!1,groups:null,maxGroups:!1,error:null},a.groupService=new h,a.uploadsService=new S,a}return Object(g.a)(n,[{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{children:[Object(y.jsxs)(m.a,{className:"form_container",children:[Object(y.jsx)("h1",{children:"Create a group"}),Object(y.jsxs)(f.a,{onSubmit:this.handleFormSubmit,children:[Object(y.jsxs)(f.a.Group,{className:"mb-3",controlId:"formBasicUsername",children:[Object(y.jsx)(f.a.Label,{children:"Name of the group"}),Object(y.jsx)(f.a.Control,{name:"name",value:this.state.name,maxlength:20,onChange:this.handleInput,type:"text",placeholder:"Enter group name..."})]}),Object(y.jsxs)(f.a.Group,{className:"mb-3",controlId:"imageUrl",children:[Object(y.jsx)(f.a.Label,{children:"Group Avatar "}),Object(y.jsx)(f.a.Control,{onChange:function(t){return e.handleFile(t)},name:"imageUrl",type:"file"})]}),Object(y.jsxs)(f.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(y.jsx)(f.a.Label,{children:"Specify end date"}),Object(y.jsx)(f.a.Control,{name:"endDate",min:this.formatDate(),value:this.state.endDate,onChange:this.handleInput,type:"date"})]}),Object(y.jsx)(O.a,{variant:"primary",type:"submit",children:"Submit"})]})]}),Object(y.jsx)(m.a,{children:Object(y.jsxs)(f.a,{onSubmit:this.handleJoinForm,children:[Object(y.jsxs)(f.a.Group,{className:"mb-3",controlId:"formBasicUsername",children:[Object(y.jsx)(f.a.Label,{children:"Type supersecret code:"}),Object(y.jsx)(f.a.Control,{name:"secret",value:this.state.secret,onChange:this.handleSecret,type:"text",placeholder:"Enter code..."})]}),Object(y.jsx)(O.a,{variant:"primary",type:"submit",children:"Submit"}),this.state.error&&Object(y.jsx)("p",{children:this.state.error})]})})]})}}]),n}(a.Component),k=n(155),I=function e(){var t=this;Object(o.a)(this,e),this.signUp=function(e,n,a,s){return t.instance.post("/signup",{username:e,password:n,email:a,avatar:s})},this.login=function(e,n){return t.instance.post("/login",{username:e,password:n})},this.logout=function(){return t.instance.get("/logout")},this.isloggedin=function(){return t.instance.post("/isloggedin")},this.instance=d.a.create({baseURL:"".concat("https://shappy.herokuapp.com/api","/auth"),withCredentials:!0})},w=(n(116),function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){setTimeout((function(){a.innerRef.current.focus()}),1)},a.handleInput=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(b.a)({},n,s))},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,s=t.password;a.authService.login(n,s).then((function(e){a.props.closeLoginModal(),a.props.storeUser(e.data),a.props.history.push("/dashboard")})).catch((function(e){a.setState(Object(j.a)(Object(j.a)({},a.state),{},{error:e.response.data.message}))}))},a.state={username:"",password:"",error:null},a.innerRef=s.a.createRef(),a.authService=new I,a}return Object(g.a)(n,[{key:"render",value:function(){return Object(y.jsxs)(m.a,{className:"form_container",children:[Object(y.jsx)("h1",{children:"LOGIN"}),Object(y.jsxs)(f.a,{onSubmit:this.handleFormSubmit,children:[Object(y.jsxs)(f.a.Group,{className:"mb-3",controlId:"formBasicUsername",children:[Object(y.jsx)(f.a.Label,{children:"Username"}),Object(y.jsx)(f.a.Control,{ref:this.innerRef,name:"username",value:this.state.username,onChange:this.handleInput,type:"text",placeholder:"Enter username"})]}),Object(y.jsxs)(f.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(y.jsx)(f.a.Label,{children:"Password"}),Object(y.jsx)(f.a.Control,{name:"password",value:this.state.password,onChange:this.handleInput,type:"password",placeholder:"Password"})]}),Object(y.jsx)(O.a,{variant:"primary",type:"submit",children:"Submit"}),this.state.error&&Object(y.jsx)("p",{id:"errorMessage",children:this.state.error})]})]})}}]),n}(a.Component)),N=(n(117),function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleInput=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(b.a)({},n,s))},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,s=t.password,r=t.email,c=t.avatar;a.authService.signUp(n,s,r,c).then((function(e){a.props.storeUser(e.data),a.props.history.push("/dashboard")})).catch((function(e){a.setState(Object(j.a)(Object(j.a)({},a.state),{},{error:e.response.data.message}))}))},a.handleFile=function(e){console.log(e.target),a.setState(Object(j.a)(Object(j.a)({},a.state),{},{isLoading:!0}));var t=new FormData;t.append("imageData",e.target.files[0]),a.uploadsService.uploadImg(t).then((function(e){a.setState(Object(j.a)(Object(j.a)({},a.state),{},{isLoading:!1,avatar:e.data.cloudinary_url}))})).catch((function(e){return alert(e,"Error")}))},a.state={username:"",email:"",avatar:"",password:"",isLoading:!1,error:null},a.authService=new I,a.uploadsService=new S,a}return Object(g.a)(n,[{key:"render",value:function(){var e=this;return Object(y.jsxs)(m.a,{className:"form_container",children:[Object(y.jsx)("h1",{children:"SIGN UP"}),Object(y.jsxs)(f.a,{onSubmit:this.handleFormSubmit,children:[Object(y.jsxs)(f.a.Group,{className:"mb-3",controlId:"formBasicUsername",children:[Object(y.jsx)(f.a.Label,{children:"Username"}),Object(y.jsx)(f.a.Control,{name:"username",value:this.state.username,onChange:this.handleInput,type:"text",placeholder:"Enter username"})]}),Object(y.jsxs)(f.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(y.jsx)(f.a.Label,{children:"Email"}),Object(y.jsx)(f.a.Control,{name:"email",value:this.state.email,onChange:this.handleInput,type:"text",placeholder:"Enter email"})]}),Object(y.jsxs)(f.a.Group,{className:"mb-3",controlId:"avatar",children:[Object(y.jsx)(f.a.Label,{children:"Avatar"}),Object(y.jsx)(f.a.Control,{onChange:function(t){return e.handleFile(t)},name:"avatar",type:"file"})]}),Object(y.jsxs)(f.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(y.jsx)(f.a.Label,{children:"Password"}),Object(y.jsx)(f.a.Control,{name:"password",value:this.state.password,onChange:this.handleInput,type:"password",placeholder:"Password"})]}),Object(y.jsx)(O.a,{variant:"primary",type:"submit",children:"Submit"}),this.state.error&&Object(y.jsx)("p",{children:this.state.error})]})]})}}]),n}(a.Component)),C=(n(118),function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).openLoginModal=function(){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{showLogin:!0}))},e.closeLoginModal=function(){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{showLogin:!1}))},e.openSignupModal=function(){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{showSignup:!0}))},e.closeSignupModal=function(){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{showSignup:!1}))},e.render=function(){return Object(y.jsxs)("div",{className:"landing_container",children:[Object(y.jsxs)("div",{className:"landing_container_one",children:[Object(y.jsxs)("div",{className:"box-one",children:[Object(y.jsx)("h1",{children:"Hello, welcome to Shappy."}),Object(y.jsx)("h3",{children:"~ Ashamed of being Happy ~"}),!e.props.loggedUser&&Object(y.jsx)(O.a,{className:"landing-button mt-2",onClick:function(){return e.openLoginModal()},children:"Log in"}),!e.props.loggedUser&&Object(y.jsx)(O.a,{className:"landing-button mt-2",onClick:function(){return e.openSignupModal()},children:"Sign up"})]}),Object(y.jsxs)(k.a,{className:"modal_container",show:e.state.showLogin,onHide:function(){return e.closeLoginModal()},children:[Object(y.jsx)(k.a.Header,{className:"modal_header",closeButton:!0,children:Object(y.jsx)(k.a.Title,{children:"Log in"})}),Object(y.jsx)(k.a.Body,{className:"modal_body",children:Object(y.jsx)(w,{history:e.props.history,loggedUser:e.props.loggedUser,storeUser:e.props.storeUser,closeLoginModal:function(){return e.closeLoginModal()}})})]}),Object(y.jsxs)(k.a,{className:"modal_container",show:e.state.showSignup,onHide:function(){return e.closeSignupModal()},children:[Object(y.jsx)(k.a.Header,{className:"modal_header",closeButton:!0,children:Object(y.jsx)(k.a.Title,{children:"Sign up"})}),Object(y.jsx)(k.a.Body,{className:"modal_body",children:Object(y.jsx)(N,{history:e.props.history,loggedUser:e.props.loggedUser,storeUser:e.props.storeUser,closeSignupModal:function(){return e.closeSignupModal()}})})]})]}),Object(y.jsx)("div",{className:"landing_container_two"})]})},e.state={showLogin:!1,showSignup:!1},e}return n}(a.Component)),L=function e(){var t=this;Object(o.a)(this,e),this.getInfo=function(){return t.instance.get("/")},this.getGroups=function(){return t.instance.get("/groups")},this.instance=d.a.create({baseURL:"".concat("https://shappy.herokuapp.com/api","/profile"),withCredentials:!0})},_=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.getInfo()},a.getInfo=function(){a.profileService.getInfo().then((function(e){a.setState(Object(j.a)(Object(j.a)({},a.state),{},{user:e.data.user}))})).catch((function(e){return console.log(e)}))},a.state={user:null},a.profileService=new L,a}return Object(g.a)(n,[{key:"render",value:function(){var e,t,n;return Object(y.jsxs)("div",{children:[Object(y.jsx)("img",{src:null===(e=this.state.user)||void 0===e?void 0:e.avatar,alt:"avatar"}),Object(y.jsxs)("p",{children:["Name: ",null===(t=this.state.user)||void 0===t?void 0:t.username]}),Object(y.jsxs)("p",{children:["Email: ",null===(n=this.state.user)||void 0===n?void 0:n.email]})]})}}]),n}(a.Component),D=n(79),G=n(158),A=n(14);n(119);function M(e){var t=e._id,n=e.name,a=e.groupAvatar,s=e.endDate,r=e.createdAt,c=function(e){return x.a.utc(e).format("MMM Do, YYYY")};return Object(y.jsx)(D.a,{md:4,className:"mb-3",children:Object(y.jsxs)(G.a,{children:[Object(y.jsx)(G.a.Title,{className:"card_title",children:n}),Object(y.jsx)(G.a.Img,{className:"card_img",variant:"top",src:a}),Object(y.jsxs)(G.a.Body,{children:[Object(y.jsxs)(G.a.Text,{children:["Start date: ",c(r)," ",Object(y.jsx)("br",{}),"End date: ",c(s)]}),Object(y.jsx)(A.b,{to:"/summary/".concat(t),children:Object(y.jsx)(O.a,{variant:"primary",children:"Ver detalles"})})]})]})})}var R=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.refreshGroups()},a.refreshGroups=function(){a.profileService.getGroups().then((function(e){a.setState(Object(j.a)(Object(j.a)({},a.state),{},{group:e.data.user.groups}))})).catch((function(e){return console.log(e)}))},a.displayGroups=function(){var e=a.state.group.filter((function(e){return!0===e.isEnded}));return e.length>0?e.map((function(e){return Object(y.jsx)(M,Object(j.a)({},e),e._id)})):Object(y.jsx)("h2",{children:"Sin resultados"})},a.state={group:null},a.profileService=new L,a}return Object(g.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{className:"group_container",children:this.state.group?this.displayGroups():Object(y.jsx)("h1",{children:"Loading"})})}}]),n}(a.Component);n(126);function E(e){return Object(y.jsxs)(D.a,{className:"grouplist-column",xs:3,children:[Object(y.jsx)(A.c,{className:"search_container",activeStyle:{display:"block",borderRadius:"50%",border:"1px solid #8ec4ca;",boxShadow:"0px 0px 25px 5px #8ec4ca"},to:"/group/".concat(e._id),children:Object(y.jsx)("img",{className:"grouplist-image",style:{borderRadius:"50%"},src:e.groupAvatar,alt:"GroupImage"})}),Object(y.jsx)("p",{className:"group-name",children:e.name})]})}var B=n(153),F=(n(127),function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.refreshGroups()},a.refreshGroups=function(){a.groupService.getGroups().then((function(e){a.setState(Object(j.a)(Object(j.a)({},a.state),{},{groups:e.data.groupArr}))})).catch((function(e){return console.log(e)}))},a.displayGroups=function(){var e=a.state.groups.filter((function(e){return!1===e.isEnded}));return e.length>0?e.map((function(e){return Object(y.jsx)(E,Object(j.a)(Object(j.a)({},e),{},{loggedUser:a.props.loggedUser}),e._id)})):Object(y.jsx)("h2",{children:"Sin resultados"})},a.state={groups:null},a.groupService=new h,a}return Object(g.a)(n,[{key:"render",value:function(){return Object(y.jsx)(m.a,{className:"groups_container",children:Object(y.jsx)(B.a,{className:"grouplist-row",children:this.state.groups?this.displayGroups():Object(y.jsx)("h1",{children:"Loading groups"})})})}}]),n}(a.Component));function T(e){var t=e.loggedUser;return Object(y.jsxs)("div",{children:[Object(y.jsx)(F,{loggedUser:t}),Object(y.jsxs)(m.a,{className:"profile_container",children:[Object(y.jsxs)("h1",{children:["Profile of ",null===t||void 0===t?void 0:t.username]}),Object(y.jsx)("div",{children:Object(y.jsx)(_,{loggedUser:t})}),Object(y.jsx)("div",{children:Object(y.jsx)(R,{loggerUser:t})})]})]})}n(128);function P(e){var t=e.description,n=e.title,a=e.image,s=e.buyShield,r=e.buyAttack;return Object(y.jsx)("div",{children:Object(y.jsx)(D.a,{md:4,className:"mb-3",children:Object(y.jsxs)(G.a,{className:"item-card",onClick:function(e){switch(e){case"Attack":return r;case"Shield":return s;default:return 0}}(n),children:[Object(y.jsx)(G.a.Img,{className:"card_img",variant:"top",src:a}),Object(y.jsxs)(G.a.Body,{children:[Object(y.jsx)(G.a.Title,{className:"card_title",children:n}),Object(y.jsx)(G.a.Text,{children:t})]})]})})})}var H=function e(){var t=this;Object(o.a)(this,e),this.buyShield=function(){return t.instance.put("/shield")},this.buyAttack=function(){return t.instance.put("/attack")},this.instance=d.a.create({baseURL:"".concat("https://shappy.herokuapp.com/api","/shop"),withCredentials:!0})},Y=(n(129),function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.refreshUser()},a.refreshUser=function(){a.profileService.getInfo().then((function(e){a.setState(Object(j.a)(Object(j.a)({},a.state),{},{user:e.data.user}))})).catch((function(e){return console.log(e)}))},a.buyShield=function(){a.shopService.buyShield().then((function(){a.refreshUser()})).catch((function(e){console.log(e),a.setState(Object(j.a)(Object(j.a)({},a.state),{},{error:e.response.data.message}))}))},a.buyAttack=function(){a.shopService.buyAttack().then((function(){a.refreshUser()})).catch((function(e){console.log(e),a.setState(Object(j.a)(Object(j.a)({},a.state),{},{error:e.response.data.message}))}))},a.state={user:null,error:null},a.shopService=new H,a.profileService=new L,a}return Object(g.a)(n,[{key:"render",value:function(){var e,t,n,a;return Object(y.jsxs)(m.a,{className:"shop_container",children:[Object(y.jsxs)("h1",{children:["Welcome, ",null===(e=this.state.user)||void 0===e?void 0:e.username]}),Object(y.jsxs)("h3",{children:[Object(y.jsx)("img",{className:"shield-image",src:"../../../../Shield.png",alt:"shield"}),": ",null===(t=this.state.user)||void 0===t?void 0:t.shields," - ",Object(y.jsx)("img",{className:"bomb-image",src:"../../../../Bomb.png",alt:""}),":",null===(n=this.state.user)||void 0===n?void 0:n.attacks," - Coins:",null===(a=this.state.user)||void 0===a?void 0:a.coins," "]}),Object(y.jsxs)("div",{className:"shields_container",children:[Object(y.jsx)(P,{className:"item-card-one",title:"Shield",description:"Adds one shield to an image or slander.",image:"hola",buyShield:this.buyShield}),Object(y.jsx)(P,{className:"item-card-two",title:"Shield x5",description:"Adds one shield to an image or slander.",image:"hola",buyShield:this.buyShield})]}),Object(y.jsxs)("div",{className:"attacks_container",children:[Object(y.jsx)(P,{className:"item-card-one",title:"Attack",description:"Reduce the shields protec",image:"a",buyAttack:this.buyAttack}),Object(y.jsx)(P,{className:"item-card-two",title:"Attack x5",description:"Reduce the shields protec",image:"a",buyAttack:this.buyAttack})]}),this.state.error&&Object(y.jsx)("p",{id:"errorMessage",children:this.state.error})]})}}]),n}(a.Component)),V=function e(){var t=this;Object(o.a)(this,e),this.showDashboard=function(){return t.instance.get("/list")},this.instance=d.a.create({baseURL:"".concat("https://shappy.herokuapp.com/api"),withCredentials:!0})},J=(n(130),function e(){var t=this;Object(o.a)(this,e),this.getUser=function(e){return t.instance.get("/getuser/".concat(e))},this.addLike=function(e){return t.instance.put("/image/".concat(e,"/like"),{imageId:e})},this.addDislike=function(e){return t.instance.put("/image/".concat(e,"/dislike"),{imageId:e})},this.refreshImage=function(e){return t.instance.get("/image/".concat(e,"/get"),{imageId:e})},this.addShield=function(e){return t.instance.put("/image/".concat(e,"/shield"),{imageId:e})},this.addAttack=function(e){return t.instance.put("/image/".concat(e,"/attack"),{imageId:e})},this.addSlanderLike=function(e){return t.instance.put("/slander/".concat(e,"/like"),{slanderId:e})},this.addSlanderDislike=function(e){return t.instance.put("/slander/".concat(e,"/dislike"),{slanderId:e})},this.refreshSlander=function(e){return t.instance.get("/slander/".concat(e,"/get"),{slanderId:e})},this.addSlanderShield=function(e){return t.instance.put("/slander/".concat(e,"/shield"),{slanderId:e})},this.addSlanderAttack=function(e){return t.instance.put("/slander/".concat(e,"/attack"),{slanderId:e})},this.getGroups=function(){return t.instance.get("/getformdata")},this.newImage=function(e){return t.instance.post("/image",e)},this.newSlander=function(e){return t.instance.post("/slander",e)},this.instance=d.a.create({baseURL:"".concat("https://shappy.herokuapp.com/api","/content"),withCredentials:!0})}),K=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).addImageLike=function(){e.contentService.addLike(e.props._id).then((function(t){e.props.refreshImages()})).catch((function(e){return console.log(e)}))},e.addImageDislike=function(){e.contentService.addDislike(e.props._id).then((function(t){e.props.refreshImages()})).catch((function(e){return console.log(e)}))},e.addImageShield=function(){e.contentService.addShield(e.props._id).then((function(t){e.props.refreshImages()})).catch((function(e){return console.log(e)}))},e.addImageAttack=function(){e.contentService.addAttack(e.props._id).then((function(t){e.props.refreshImages()})).catch((function(e){return console.log(e)}))},e.formatDate=function(e){return x()(e).utcOffset("+0200").format("MMM Do, HH:mm")},e.render=function(){var t,n,a,s,r,c,o;return Object(y.jsx)("div",{children:Object(y.jsx)(D.a,{md:4,className:"mb-3",children:Object(y.jsxs)(G.a,{className:"image-card",children:[Object(y.jsxs)("h2",{className:"tag-element",onClick:function(){return e.props.filterByTag(e.props.tag)},children:["#",e.props.tag]}),Object(y.jsx)(G.a.Img,{variant:"top",src:null===(t=e.props)||void 0===t?void 0:t.imageUrl}),Object(y.jsxs)(G.a.Body,{children:[Object(y.jsx)(A.b,{className:"groupname-element",to:"/group/".concat(e.props.groupRef._id),children:Object(y.jsxs)("span",{className:"groupname-element",children:["/",e.props.groupRef.name]})}),Object(y.jsxs)(G.a.Text,{children:[Object(y.jsxs)("span",{onClick:e.addImageLike,children:["Likes: ",null===(n=e.props)||void 0===n||null===(a=n.likes)||void 0===a?void 0:a.length]})," -",Object(y.jsxs)("span",{onClick:e.addImageDislike,children:["Dislikes: ",null===(s=e.props)||void 0===s||null===(r=s.dislikes)||void 0===r?void 0:r.length]})," -",Object(y.jsxs)("span",{onClick:e.addImageShield,children:["Shields: ",null===(c=e.props)||void 0===c?void 0:c.shields]})," -",Object(y.jsxs)("span",{onClick:e.addImageAttack,children:["Attacks: ",null===(o=e.props.loggedUser)||void 0===o?void 0:o.attacks]}),Object(y.jsx)("p",{className:"date-element",children:e.formatDate(e.props.createdAt)})]})]})]})})})},e.contentService=new J,e.groupService=new h,e}return n}(a.Component);n(131);function W(){return Object(y.jsx)("div",{className:"image-btn",children:Object(y.jsx)(A.b,{to:"/createimage",children:Object(y.jsx)("img",{src:"../../../../Camera.png",alt:"Photo"})})})}n(132);function q(){return Object(y.jsx)("div",{className:"slander-btn",children:Object(y.jsx)(A.b,{to:"/createslander",children:Object(y.jsx)("img",{src:"../../../../Bla.png",alt:""})})})}n(133);function z(){return Object(y.jsxs)("div",{className:"btn_container",children:[Object(y.jsx)(W,{}),Object(y.jsx)(q,{})]})}n(134);var Z=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.refreshImages()},a.refreshImages=function(){a.baseService.showDashboard().then((function(e){a.setState(Object(j.a)(Object(j.a)({},a.state),{},{images:e.data.results}))})).catch((function(e){return console.log(e)}))},a.displayImages=function(){var e=a.state.images.filter((function(e){return!1===e.groupRef.isEnded}));return(null===e||void 0===e?void 0:e.length)>0?e.map((function(e){return Object(y.jsx)(K,Object(j.a)(Object(j.a)({refreshImages:a.refreshImages,filterByTag:a.filterByTag},e),{},{loggedUser:a.props.loggedUser}),e._id)})):Object(y.jsx)("h2",{children:"Sin resultados"})},a.filterByTag=function(e){a.groupService.filterByTag(e).then((function(e){a.setState(Object(j.a)(Object(j.a)({},a.state),{},{images:e.data.images}))})).catch((function(e){return console.log(e)}))},a.state={images:null},a.baseService=new V,a.groupService=new h,a}return Object(g.a)(n,[{key:"render",value:function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(F,{}),Object(y.jsx)("div",{className:"dashboard_container",children:this.state.images?this.displayImages():Object(y.jsx)("h1",{children:"Loading"})}),Object(y.jsx)(z,{})]})}}]),n}(a.Component),Q=n(44),X=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.getUser()},a.addLike=function(){a.contentService.addSlanderLike(a.props._id).then((function(e){a.props.refreshSlanders()})).catch((function(e){return console.log(e)}))},a.addDislike=function(){a.contentService.addSlanderDislike(a.props._id).then((function(e){a.props.refreshSlanders()})).catch((function(e){return console.log(e)}))},a.addShield=function(){a.contentService.addSlanderShield(a.props._id).then((function(e){a.props.refreshSlanders()})).catch((function(e){return console.log(e)}))},a.addAttack=function(){a.contentService.addSlanderAttack(a.props._id).then((function(e){a.props.refreshSlanders()})).catch((function(e){a.setState(Object(j.a)(Object(j.a)({},a.state),{},{error:e.response.data.message}))}))},a.getUser=function(){a.contentService.getUser(a.props.authorId).then((function(e){a.setState(Object(j.a)(Object(j.a)({},a.state),{},{user:e.data.user}))}))},a.showAlert=function(){alert(a.state.error)},a.state={user:null,error:null},a.contentService=new J,a}return Object(g.a)(n,[{key:"render",value:function(){var e,t,n,a,s,r,c;return Object(y.jsxs)("div",{children:[Object(y.jsx)(Q.a,{children:Object(y.jsx)(G.a,{className:"slander_container",children:Object(y.jsxs)(G.a.Body,{className:"slander-card",children:[Object(y.jsx)(G.a.Title,{className:"slander-card-active",children:this.props.content}),-1===this.props.isValidated&&Object(y.jsxs)("p",{children:["User: ",null===(e=this.state.user)||void 0===e?void 0:e.username]})]})})}),Object(y.jsx)("br",{}),0===this.props.isValidated&&Object(y.jsxs)("div",{children:[Object(y.jsxs)("span",{className:"display",onClick:this.addLike,children:["Likes: ",null===(t=this.props)||void 0===t||null===(n=t.likes)||void 0===n?void 0:n.length]})," -",Object(y.jsxs)("span",{className:"display",onClick:this.addDislike,children:["Dislikes: ",null===(a=this.props)||void 0===a||null===(s=a.dislikes)||void 0===s?void 0:s.length]})," -",Object(y.jsxs)("span",{className:"display",onClick:this.addShield,children:["Shields: ",null===(r=this.props)||void 0===r?void 0:r.shields]})," -",Object(y.jsxs)("span",{className:"display",onClick:this.addAttack,children:["Attacks: ",null===(c=this.props.loggedUser)||void 0===c?void 0:c.attacks]})]}),this.state.error&&this.showAlert()]})}}]),n}(a.Component),$=(n(136),n(137),n(41)),ee=n(159),te=n(154),ne=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.refreshSlanders()},a.componentDidUpdate=function(e,t){e.groupId!==a.props.groupId&&a.refreshSlanders()},a.refreshSlanders=function(){a.groupService.getSlanders(a.props.groupId).then((function(e){var t=e.data.slanders,n=t.filter((function(e){return 1===e.isValidated})),s=t.filter((function(e){return-1===e.isValidated})),r=t.filter((function(e){return 0===e.isValidated}));a.setState(Object(j.a)(Object(j.a)({},a.state),{},{slanders:{confirmed:n,denied:s,active:r}}))})).catch((function(e){return console.log(e)}))},a.displaySlanders=function(e){var t,n;return(null===(t=a.state.slanders[e])||void 0===t?void 0:t.length)>0?null===(n=a.state.slanders[e])||void 0===n?void 0:n.map((function(e){return Object(y.jsx)(X,Object(j.a)(Object(j.a)({refreshSlanders:a.refreshSlanders},e),{},{loggedUser:a.props.loggedUser}),e._id)})):Object(y.jsx)("h2",{children:"Sin resultados"})},a.render=function(){return a.state.slanders?Object(y.jsx)("div",{className:"slander_container",children:Object(y.jsxs)(ee.a,{defaultActiveKey:"Active",id:"uncontrolled-tab-example",className:"tabs_container",children:[Object(y.jsx)(te.a,{className:"confirmed-tab",eventKey:"Confirmed",title:"Confirmed",children:Object(y.jsx)($.Carousel,{showThumbs:!1,className:"carousel-style",stopOnHover:!0,showIndicators:!1,showStatus:!1,showArrows:!1,width:"100%",children:a.displaySlanders("confirmed")})}),Object(y.jsx)(te.a,{className:"active-tab",eventKey:"Active",title:"Active",children:Object(y.jsx)($.Carousel,{showThumbs:!1,className:"carousel-style",stopOnHover:!0,showIndicators:!1,showStatus:!1,width:"100%",children:a.displaySlanders("active")})}),Object(y.jsx)(te.a,{className:"denied-tab",eventKey:"Denied",title:"Denied",children:Object(y.jsx)($.Carousel,{showThumbs:!1,className:"carousel-style",stopOnHover:!0,showIndicators:!1,showStatus:!1,width:"100%",children:a.displaySlanders("denied")})})]})}):Object(y.jsx)($.Carousel,{showThumbs:!1,className:"carousel-style",stopOnHover:!0,showIndicators:!1,showStatus:!1,width:"100%",children:Object(y.jsx)("div",{children:Object(y.jsx)(G.a,{children:Object(y.jsx)(G.a.Body,{children:Object(y.jsx)(G.a.Title,{className:"slander-card",children:"No active slanders"})})})})})},a.state={slanders:null},a.groupService=new h,a}return n}(a.Component),ae=(n(144),function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.refreshImages(),a.countUsers(),a.getGroupName()},a.componentDidUpdate=function(e,t){e.match.params.groupId!==a.props.match.params.groupId&&(a.refreshImages(),a.countUsers(),a.getGroupName())},a.getGroupName=function(){a.groupService.getGroupName(a.props.match.params.groupId).then((function(e){a.setState(Object(j.a)(Object(j.a)({},a.state),{},{group:e.data.group}))}))},a.countUsers=function(){a.groupService.countUsers(a.props.match.params.groupId).then((function(e){a.setState(Object(j.a)(Object(j.a)({},a.state),{},{users:e.data.users}))}))},a.refreshImages=function(){a.groupService.getSingleGroup(a.props.match.params.groupId).then((function(e){console.log("imagenes normales",e.data.images);var t=e.data.images.sort((function(e,t){return t.createdAt-e.createdAt}));console.log("ordenadas",t),a.setState(Object(j.a)(Object(j.a)({},a.state),{},{images:t}))})).catch((function(e){return console.log(e)}))},a.filterByTag=function(e){a.groupService.filterByTag(e).then((function(e){var t=e.data.images.filter((function(e){return!1===e.groupRef.isEnded&&e.groupRef._id===a.props.match.params.groupId}));a.setState(Object(j.a)(Object(j.a)({},a.state),{},{images:t}))})).catch((function(e){return console.log(e)}))},a.displayImages=function(){return a.state.images.length>0?a.state.images.map((function(e){return Object(y.jsx)(K,Object(j.a)(Object(j.a)({},e),{},{filterByTag:a.filterByTag,refreshImages:a.refreshImages,loggedUser:a.props.loggedUser}),e._id)})):Object(y.jsx)("h2",{children:"Sin resultados"})},a.state={images:null,users:null,group:null},a.groupService=new h,a}return Object(g.a)(n,[{key:"render",value:function(){var e;return Object(y.jsxs)("div",{className:"group_page_container",children:[Object(y.jsx)(F,{}),this.state.images?Object(y.jsxs)("h2",{className:"group-title",children:[null===(e=this.state.group)||void 0===e?void 0:e.name," - ",this.state.users]}):Object(y.jsx)("h2",{children:"Loading"}),Object(y.jsx)(ne,{loggedUser:this.props.loggedUser,groupId:this.props.match.params.groupId}),Object(y.jsxs)("div",{className:"dashboard_container",children:[Object(y.jsx)("h2",{className:"images-title",children:"Images"}),this.state.images?this.displayImages():Object(y.jsx)("h1",{children:"Loading"})]}),Object(y.jsx)(z,{})]})}}]),n}(a.Component)),se=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).componentDidMount=function(){e.getGroupList()},e.displayGroupList=function(){var t,n=null===(t=e.state.groups)||void 0===t?void 0:t.filter((function(e){return!0!==e.isEnded}));return n.length>0?n.map((function(e){return Object(y.jsx)("option",{value:e._id,name:"groupRef",children:e.name})})):Object(y.jsx)("p",{children:"Sin resultados"})},e.getGroupList=function(){e.contentService.getGroups().then((function(t){console.log(t.data.groups.groups),e.setState({groups:t.data.groups.groups})})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var n=t.target.value;console.log(n),console.log(e.state.tag),e.setState(Object(j.a)(Object(j.a)({},e.state),{},{tag:n}))},e.handleSelectChanges=function(t){var n=t.target.value;e.setState(Object(j.a)(Object(j.a)({},e.state),{},{groupRef:n}))},e.handleFile=function(t){console.log(t.target),e.setState(Object(j.a)(Object(j.a)({},e.state),{},{isLoading:!0}));var n=new FormData;n.append("imageData",t.target.files[0]),e.uploadService.uploadImg(n).then((function(t){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{isLoading:!1,imageUrl:t.data.cloudinary_url}))})).catch((function(e){return alert(e,"ERRRORRRRR")}))},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state),e.contentService.newImage(e.state).then((function(t){e.setState({image:t.data.image,imageUrl:""})})).then((function(){return e.props.history.push("/group/".concat(e.state.groupRef))})).catch((function(e){return console.error(e)}))},e.render=function(){return Object(y.jsxs)(m.a,{className:"form_container",children:[Object(y.jsx)("h1",{children:"Upload new image"}),Object(y.jsxs)(f.a,{onSubmit:e.handleSubmit,children:[Object(y.jsxs)(f.a.Group,{className:"mb-3",controlId:"tag",children:[Object(y.jsx)(f.a.Label,{children:"Tag: "}),Object(y.jsx)(f.a.Control,{onChange:function(t){return e.handleChange(t)},name:"tag",type:"text"})]}),Object(y.jsxs)(f.a.Group,{className:"mb-3",controlId:"imageUrl",children:[Object(y.jsx)(f.a.Label,{children:"Imagen: "}),Object(y.jsx)(f.a.Control,{onChange:function(t){return e.handleFile(t)},name:"imageUrl",type:"file"})]}),Object(y.jsx)(f.a.Group,{children:Object(y.jsxs)(f.a.Control,{as:"select",onChange:function(t){return e.handleSelectChanges(t)},children:[Object(y.jsx)("option",{children:"Select group"}),e.state.groups?e.displayGroupList():Object(y.jsx)("option",{value:"",children:"Loading groups"})]})}),Object(y.jsx)(O.a,{variant:"primary",type:"submit",children:"Submit"})]})]})},e.state={imageUrl:null,tag:null,groupRef:null,groups:null,name:"groupRef"},e.uploadService=new S,e.contentService=new J,e}return n}(a.Component),re=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).componentDidMount=function(){e.getGroupList()},e.displayGroupList=function(){var t,n=null===(t=e.state.groups)||void 0===t?void 0:t.filter((function(e){return!0!==e.isEnded}));return n.length>0?n.map((function(e){return Object(y.jsx)("option",{value:e._id,name:"groupRef",children:e.name})})):Object(y.jsx)("p",{children:"Sin resultados"})},e.getGroupList=function(){e.contentService.getGroups().then((function(t){console.log(t.data.groups.groups),e.setState({groups:t.data.groups.groups})})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var n=t.target.value;console.log(n),e.setState(Object(j.a)(Object(j.a)({},e.state),{},{content:n}))},e.handleSelectChanges=function(t){var n=t.target.value;console.log(n),e.setState(Object(j.a)(Object(j.a)({},e.state),{},{groupRef:n}))},e.handleSubmit=function(t){t.preventDefault(),e.contentService.newSlander(e.state).then((function(t){e.setState({slander:t.data})})).then((function(){return e.props.history.push("/group/".concat(e.state.groupRef))})).catch((function(e){return console.error(e)}))},e.render=function(){return Object(y.jsxs)(m.a,{className:"form_container",children:[Object(y.jsx)("h1",{children:"Upload new slander"}),Object(y.jsxs)(f.a,{onSubmit:e.handleSubmit,children:[Object(y.jsxs)(f.a.Group,{className:"mb-3",controlId:"tag",children:[Object(y.jsx)(f.a.Label,{children:"Slander: "}),Object(y.jsx)(f.a.Control,{onChange:function(t){return e.handleChange(t)},name:"content",type:"text"})]}),Object(y.jsx)(f.a.Group,{children:Object(y.jsxs)(f.a.Control,{as:"select",onChange:function(t){return e.handleSelectChanges(t)},children:[Object(y.jsx)("option",{children:"Select group"}),e.state.groups?e.displayGroupList():Object(y.jsx)("option",{value:"",children:"Loading groups"})]})}),Object(y.jsx)(O.a,{variant:"primary",type:"submit",children:"Submit"})]})]})},e.state={content:null,groupRef:null},e.uploadService=new S,e.contentService=new J,e}return n}(a.Component),ce=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={images:null},e}return Object(g.a)(n,[{key:"render",value:function(){var e,t,n,a,s;return Object(y.jsx)("div",{children:Object(y.jsx)(D.a,{md:4,className:"mb-3",children:Object(y.jsxs)(G.a,{children:[Object(y.jsx)(A.b,{className:"card_img",to:"/group/".concat(null===(e=this.props)||void 0===e?void 0:e.groupRef),children:Object(y.jsx)(G.a.Img,{variant:"top",src:null===(t=this.props)||void 0===t?void 0:t.imageUrl})}),Object(y.jsxs)(G.a.Body,{children:[Object(y.jsxs)(G.a.Title,{className:"card_title",children:["#",null===(n=this.props)||void 0===n?void 0:n.tag]}),Object(y.jsxs)(G.a.Text,{children:[Object(y.jsxs)("span",{children:["Likes: ",this.props.likes.length]})," -",Object(y.jsxs)("span",{children:["Dislikes: ",null===(a=this.props.dislikes)||void 0===a?void 0:a.length]})," -",Object(y.jsxs)("span",{children:["Shields: ",this.props.shields]})," -",Object(y.jsxs)("span",{children:["Attacks: ",null===(s=this.props.loggedUser)||void 0===s?void 0:s.attacks]})]})]})]})})})}}]),n}(a.Component);function oe(e){var t,n,a,s,r=function(e){return x.a.utc(e).format("MMM Do, YYYY")};return Object(y.jsx)(m.a,{children:Object(y.jsxs)(B.a,{children:[Object(y.jsx)(D.a,{xs:12,children:Object(y.jsx)("div",{className:"sum_image_container",children:Object(y.jsx)("img",{src:null===(t=e.group)||void 0===t?void 0:t.data.group.groupAvatar,alt:"Group Avatar"})})}),Object(y.jsx)(D.a,{xs:12,children:Object(y.jsxs)("div",{className:"sum_info_container",children:[Object(y.jsx)("h2",{children:null===(n=e.group)||void 0===n?void 0:n.data.group.name}),Object(y.jsx)("br",{}),Object(y.jsxs)("p",{children:["From ",r(null===(a=e.group)||void 0===a?void 0:a.data.group.createdAt)," to ",r(null===(s=e.group)||void 0===s?void 0:s.data.group.endDate)]})]})})]})})}var ie=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).componentDidMount=function(){e.getGroup(),e.getImagesByLikes()},e.getGroup=function(){e.groupService.getSummary(e.props.match.params.groupId).then((function(t){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{group:t}))}))},e.getImagesByLikes=function(){e.groupService.getImageByLikes(e.props.match.params.groupId).then((function(t){e.setState(Object(j.a)(Object(j.a)({},e.state),{},{images:t.data.images}))}))},e.displayImagesByLikes=function(){var t;return(null===(t=e.state.images)||void 0===t?void 0:t.length)>0?e.state.images.map((function(t){return Object(y.jsx)(ce,Object(j.a)(Object(j.a)({},t),{},{loggedUser:e.props.loggedUser}),t._id)})):Object(y.jsx)("h2",{children:"Loading"})},e.displaySummaryInfo=function(){return Object(y.jsx)(oe,{group:e.state.group,loggedUser:e.props.loggedUser})},e.state={group:null,images:null,mostLikedUrl:""},e.groupService=new h,e}return Object(g.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("div",{children:[this.displaySummaryInfo(),this.displayImagesByLikes()]})}}]),n}(a.Component),le=n(83),ue=n(35),de=(n(145),n(63)),he=n.n(de),je=n(84),pe=function e(){var t=this;Object(o.a)(this,e),this.addCoins=function(e){return t.instance.put("/addcoins/".concat(e),e)},this.instance=d.a.create({baseURL:"".concat("https://shappy.herokuapp.com/api","/stripe"),withCredentials:!0})},be=(n(147),function(e){var t=Object(ue.useStripe)(),n=Object(ue.useElements)(),a=new pe,s=!1,r=function(){var e=Object(je.a)(he.a.mark((function e(r){var c,o,i,l,u;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,t.createPaymentMethod({type:"card",card:n.getElement(ue.CardElement)});case 3:c=e.sent,o=c.error,i=c.paymentMethod,o||(l=i.id,u=document.getElementById("amount"),d.a.post("http://localhost:5005/api/stripe/charge",{amount:u.options[u.selectedIndex].value,id:l}).then((function(e){e.data.success&&a.addCoins(e.data.amount).then((function(){console.log(s),s=!0,console.log(s)}))})).catch((function(e){return console.log("Error | ",e)})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)("form",{onSubmit:r,style:{maxWidth:400},children:[Object(y.jsx)(ue.CardElement,{options:{iconStyle:"solid",hidePostalCode:!0,style:{base:{iconColor:"rgb(240, 57, 122)",color:"rgb(240, 57, 122)",fontSize:"25px"},invalid:{color:"#e5424d"}}},className:"card-element"}),Object(y.jsxs)("select",{className:"select-element",name:"amount",id:"amount",children:[Object(y.jsx)("option",{value:"99",children:"10 coins = 0.99\u20ac"}),Object(y.jsx)("option",{value:"499",children:"50 + 10 FREE coins = 4.99\u20ac"}),Object(y.jsx)("option",{value:"999",children:"100 + 50 FREE coins = 9.99\u20ac"}),Object(y.jsx)("option",{value:"1999",children:"200 + 150 FREE coins = 19.99\u20ac"}),Object(y.jsx)("option",{value:"4999",children:"500 + 500 FREE coins = 49.99\u20ac"})]}),Object(y.jsx)("button",{children:"Pay"})]})}),ge=Object(le.a)("pk_test_51JgrliAZFWEha2CVxgSpbC06FhbHUiGg3CdiRV2jt2R6jtgreW3CFoVeO3ZPbsMt5P01qGzgqrio4XQWMVHoGVqK00tfSp8I6v"),me=function(e){return Object(y.jsx)(ue.Elements,{stripe:ge,children:Object(y.jsx)(be,{loggedUser:e})})},fe=function(e){var t=e.storeUser,n=e.loggedUser;return Object(y.jsxs)(p.d,{children:[Object(y.jsx)(p.b,{exact:!0,path:"/",render:function(e){return Object(y.jsx)(C,Object(j.a)({loggedUser:n,storeUser:t},e))}}),Object(y.jsx)(p.b,{exact:!0,path:"/creategroup",render:function(e){return n?Object(y.jsx)(U,Object(j.a)({loggedUser:n,storeUser:t},e)):Object(y.jsx)(p.a,{to:"/"})}}),Object(y.jsx)(p.b,{exact:!0,path:"/profile",render:function(e){return n?Object(y.jsx)(T,Object(j.a)({loggedUser:n,storeUser:t},e)):Object(y.jsx)(p.a,{to:"/"})}}),Object(y.jsx)(p.b,{exact:!0,path:"/shop",render:function(){return n?Object(y.jsx)(Y,{loggedUser:n,storeUser:t}):Object(y.jsx)(p.a,{to:"/"})}}),Object(y.jsx)(p.b,{exact:!0,path:"/dashboard",render:function(e){return n?Object(y.jsx)(Z,Object(j.a)({loggedUser:n,storeUser:t},e)):Object(y.jsx)(p.a,{to:"/"})}}),Object(y.jsx)(p.b,{path:"/group/:groupId",render:function(e){return n?Object(y.jsx)(ae,Object(j.a)({loggedUser:n,storeUser:t},e)):Object(y.jsx)(p.a,{to:"/"})}}),Object(y.jsx)(p.b,{path:"/summary/:groupId",render:function(e){return n?Object(y.jsx)(ie,Object(j.a)({loggedUser:n,storeUser:t},e)):Object(y.jsx)(p.a,{to:"/"})}}),Object(y.jsx)(p.b,{exact:!0,path:"/createimage",render:function(e){return n?Object(y.jsx)(se,Object(j.a)({loggedUser:n,storeUser:t},e)):Object(y.jsx)(p.a,{to:"/"})}}),Object(y.jsx)(p.b,{exact:!0,path:"/createslander",render:function(e){return n?Object(y.jsx)(re,Object(j.a)({loggedUser:n,storeUser:t},e)):Object(y.jsx)(p.a,{to:"/"})}}),Object(y.jsx)(p.b,{exact:!0,path:"/payment",render:function(){return n?Object(y.jsx)(me,{loggedUser:n,storeUser:t}):Object(y.jsx)(p.a,{to:"/"})}})]})},Oe=n(157),ve=n(85),xe=(n(148),function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).authService=new I,e.logout=function(){e.authService.logout().then((function(t){e.props.storeUser(null)})).catch((function(e){return console.log(e)}))},e.redirect=function(){e.props.history.push("/")},e.functionCall=function(){e.logout(),e.redirect()},e.render=function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Oe.a,{sticky:"top",className:"navbar_container",children:Object(y.jsxs)(m.a,{children:[Object(y.jsx)(Oe.a.Brand,{className:"logo_container",as:A.b,to:"/dashboard",children:Object(y.jsx)("img",{alt:"Shappy logo",src:"../../../../shappy_logo.png",className:"logo"})}),Object(y.jsx)(ve.a,{className:"ms-auto",children:e.props.loggedUser&&Object(y.jsxs)("div",{className:"nav_container",children:[Object(y.jsx)(ve.a.Link,{as:A.b,to:"/shop",children:Object(y.jsx)("span",{class:"material-icons",children:"shopping_basket"})}),Object(y.jsx)(ve.a.Link,{as:A.b,activeStyle:{color:"white"},className:"nav-button",to:"/profile",children:Object(y.jsx)("span",{class:"material-icons",children:"person"})}),Object(y.jsx)(ve.a.Link,{className:"nav-button",onClick:e.functionCall,children:Object(y.jsx)("span",{class:"material-icons",children:"logout"})})]})})]})})})},e}return n}(s.a.Component)),Se=Object(p.g)(xe),ye=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).componentDidMount=function(){e.fetchUser(),setInterval(e.checkEndDate,36e5)},e.checkEndDate=function(){e.groupService.getGroupEnd().then((function(e){})).catch((function(e){return console.log}))},e.storeUser=function(t){return e.setState({loggedUser:t})},e.fetchUser=function(){e.authService.isloggedin().then((function(t){return e.storeUser(t.data)})).catch((function(t){return e.storeUser(null)}))},e.render=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Se,{loggedUser:e.state.loggedUser,storeUser:e.storeUser}),Object(y.jsx)(fe,{storeUser:e.storeUser,loggedUser:e.state.loggedUser})]})},e.state={loggedUser:void 0},e.authService=new I,e.groupService=new h,e}return n}(a.Component),Ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,160)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};c.a.render(Object(y.jsx)(A.a,{children:Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(ye,{})})}),document.getElementById("root")),Ue()},64:function(e,t,n){},90:function(e,t,n){}},[[149,1,2]]]);
//# sourceMappingURL=main.46859a87.chunk.js.map